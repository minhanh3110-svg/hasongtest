{% extends "base.html" %}

{% block title %}Nhật Ký - {{ phong.ten_phong }}{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col-md-8">
        <h1>Nhật Ký - {{ phong.ten_phong }}</h1>
    </div>
    <div class="col-md-4 text-end">
        <a href="{{ url_for('chi_tiet_phong', id=phong.id) }}" class="btn btn-primary">
            <i class="fas fa-arrow-left"></i> Quay lại chi tiết phòng
        </a>
    </div>
</div>

<div class="card">
    <div class="card-body">
        <div class="timeline">
            {% for nk in nhat_ky %}
            <div class="timeline-item">
                <div class="timeline-date">
                    {{ nk.thoi_gian.strftime('%d/%m/%Y %H:%M') }}
                </div>
                <div class="timeline-content">
                    <h5>{{ nk.hanh_dong }}</h5>
                    <p>{{ nk.mo_ta }}</p>
                    <div class="row">
                        <div class="col-md-4">
                            <small>Nhiệt độ: {{ nk.nhiet_do }}°C</small>
                        </div>
                        <div class="col-md-4">
                            <small>Độ ẩm: {{ nk.do_am }}%</small>
                        </div>
                        <div class="col-md-4">
                            <small>Ánh sáng: {{ nk.anh_sang }} lux</small>
                        </div>
                    </div>
                    <small class="text-muted">Thực hiện bởi: {{ nk.nguoi_thuc_hien }}</small>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}

{% block styles %}
<style>
.timeline {
    position: relative;
    padding: 20px 0;
}

.timeline-item {
    position: relative;
    padding: 20px 0;
    border-left: 2px solid #e9ecef;
    margin-left: 20px;
}

.timeline-date {
    position: absolute;
    left: -150px;
    width: 120px;
    text-align: right;
    font-weight: bold;
}

.timeline-content {
    margin-left: 20px;
    padding: 15px;
    background: #f8f9fa;
    border-radius: 4px;
}

.timeline-item:before {
    content: '';
    position: absolute;
    left: -9px;
    top: 28px;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: #0d6efd;
    border: 2px solid #fff;
}

.timeline-content h5 {
    margin-top: 0;
    color: #0d6efd;
}

@media (max-width: 768px) {
    .timeline-date {
        position: relative;
        left: 0;
        width: 100%;
        text-align: left;
        margin-bottom: 10px;
    }
}
</style>
{% endblock %} 